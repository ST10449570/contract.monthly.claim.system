<!-- Part 3 Final Dashboard View-->
@model contract.monthly.claim.system.Models.HrDashboardViewModel
@{
    ViewData["Title"] = "HR Dashboard";
}

<div class="container mt-4">

    <h2 class="text-center mb-4 text-primary fw-bold">HR Claims Dashboard</h2>

  
    <div class="row">

        <div class="col-md-4">
            <div class="card text-white bg-warning mb-3 shadow">
                <div class="card-header fw-bold">Pending Claims</div>
                <div class="card-body">
                    <h3 class="card-title">@Model.PendingCount</h3>
                </div>
            </div>
        </div>

        <!-- Approved -->
        <div class="col-md-4">
            <div class="card text-white bg-success mb-3 shadow">
                <div class="card-header fw-bold">Approved Claims</div>
                <div class="card-body">
                    <h3 class="card-title">@Model.ApprovedCount</h3>
                </div>
            </div>
        </div>

        <!-- Rejected -->
        <div class="col-md-4">
            <div class="card text-white bg-danger mb-3 shadow">
                <div class="card-header fw-bold">Rejected Claims</div>
                <div class="card-body">
                    <h3 class="card-title">@Model.RejectedCount</h3>
                </div>
            </div>
        </div>

    </div>

    <!-- Total Claims -->
    <div class="card text-white bg-info mb-3 shadow">
        <div class="card-header fw-bold">Total Submitted Claims</div>
        <div class="card-body">
            <h3 class="card-title">@Model.TotalClaims</h3>
        </div>
    </div>

    <!-- Recent Pending Claims -->
    <h3 class="mt-4 mb-3 text-secondary">Recent Pending Claims</h3>

    @if (Model.PendingClaims != null && Model.PendingClaims.Any())
    {
        <table class="table table-striped table-hover shadow">
            <thead class="table-dark">
                <tr>
                    <th>Claim ID</th>
                    <th>Lecturer</th>
                    <th>Hours</th>
                    <th>Rate</th>
                    <th>Total</th>
                    <th>Date Submitted</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var claim in Model.PendingClaims)
                {
                    <tr>
                        <td>@claim.Id</td>
                        <td>@claim.Lecturer?.FullName ?? "N/A"</td>
                        <td>@claim.Hours</td>
                        <td>@claim.HourlyRate</td>
                        <td>R @claim.Total</td>
                        <td>@claim.SubmittedAt.ToLocalTime().ToString("dd MMM yyyy")</td>
                        <td>
                            <a asp-action="Details" asp-route-id="@claim.Id"
                               class="btn btn-primary btn-sm">Review</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-muted">No recent pending claims.</p>
    }

    <hr class="my-4">

    <h4>Quick Navigation</h4>
    <a asp-action="Pending" class="btn btn-warning btn-lg mb-2">View All Pending Claims</a><br>
    <a asp-action="Index" class="btn btn-info btn-lg">View All Claims</a>

</div>